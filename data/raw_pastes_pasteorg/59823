b' <!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1">  <meta name="description" content="www.paste.org - allows users to paste snippets of text, usually samples of source code, for public viewing."> <meta name="author" content="An Australian"> <link rel="icon" href="/favicon.ico"> <title>Paste code - paste.org</title>  <link href="/assets/themes/bleh/css/github-highlight.css" rel="stylesheet"> <script src="/assets/themes/bleh/js/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <p><pre><code class="python">#!/usr/bin/python\n# -*- coding: utf-8 -*-\n\n&quot;&quot;&quot;\nIRC RSSbot v1.2 stable\nLicensed under the GNU General Public License v3\n\n[c0da, DECEMBRE 2012]\n&quot;&quot;&quot;\n\nimport irclib\nimport feedparser\nfrom datetime import datetime\nimport calendar\nimport re\nimport os\nimport threading\nimport time\n\n#CONFiG:\nnetwork = \'irc.gtanet.com\'\nport = 6667\nchannels = [\'#alw\']\nnick = \'alwForum\'\nname = \'iRC-RSSBOT v1.2 (stable) available at https://github.com/c0ding/iRC-RSSbot\'\npassword = \'\' #\'nickserv password\'\n\nannounce_list = [&quot;http://forum.gamerbros.net/feed.php&quot;]\nannounce_entries_file = os.environ.get(&quot;HOME&quot;) + &quot;/ircbot/announce-entries&quot;\n\n#CTCP CAPABiLiTY AND DEBUG\ndef handleCTCP(connection, event):\n if event.arguments() [0].upper() == \'VERSION\':\n  connection.ctcp_reply ( event.source().split ( \'!\' ) [ 0 ], \'VERSION RSSBOT v1.2 (stable) available at https://github.com/c0ding/iRC-RSSbot.\')\n  \nirclib.DEBUG = 1\nirc = irclib.IRC()\nirc.add_global_handler (\'ctcp\', handleCTCP)\n\n#CREATE SERVER OBJECT, CONNECT TO SERVER AND JOiN CHANNELS\nserver = irc.server()\nserver.connect(network, port, nick, ircname=name, ssl=False)\nif password: server.privmsg(&quot;NickServ&quot;,&quot;IDENTIFY %s&quot; % password)\ntime.sleep(5)\nfor channel in channels:\n server.join(channel)\n\nmsgqueue = []\n\ndef announce_refresh():\n FILE = open(announce_entries_file, &quot;r&quot;)\n filetext = FILE.read()\n FILE.close()\n for feed in announce_list:\n  NextFeed = False\n  d = feedparser.parse(feed)\n  for entry in d.entries:\n   id = entry.id.encode(\'utf-8\') #+entry.title.encode(\'utf-8\')\n   if id in filetext:\n    NextFeed = True\n   else:\n    FILE = open(announce_entries_file, &quot;a&quot;)\n    FILE.write(id + &quot;\\n&quot;)\n    FILE.close()\n    title = entry.title.encode(\'utf-8\')\n    url = entry.link.encode(\'utf-8\')\n    description = entry.description.encode(\'utf-8\')\n    author = entry.author.encode(\'utf-8\')\n   \n    msgqueue.append(&quot;\\033[31m&quot; + author + &quot; posted on &quot; + title + &quot; \\033[35m[ &quot; + url + &quot; ]&quot;)\n\n   if NextFeed:\n    break;\n\n t1 = threading.Timer(10.0, announce_refresh)\n t1.start()\n\nannounce_refresh()\n\nwhile 1:\n while len(msgqueue) &gt; 0:\n  msg = msgqueue.pop()\n  for channel in channels:\n   server.privmsg(channel, msg)\n time.sleep(1)\n irc.process_once()\n time.sleep(1)</code></pre></p> <p align="right"><span style="font-size: 60%">Add a code snippet to your website: <a href="https://www.paste.org" target="_blank">www.paste.org</a></span></p> </body> </html>'