b' <!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1">  <meta name="description" content="www.paste.org - allows users to paste snippets of text, usually samples of source code, for public viewing."> <meta name="author" content="An Australian"> <link rel="icon" href="/favicon.ico"> <title>Paste code - paste.org</title>  <link href="/assets/themes/bleh/css/github-highlight.css" rel="stylesheet"> <script src="/assets/themes/bleh/js/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <p><pre><code class="nohighlight">/**\n * This is used for post data from API.\n *\n * @author Mayank\n * @since 1.4\n */\npublic class MyClientMultipartPost extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    private final String ApiLink;\n    private final MultipartEntity multipartentity;\n    public ProgressDialog dialog;\n    private String message;\n    private Context context;\n    private OnPostCallComplete onpostcallcomplete;\n    private JSONObject jsonResult;\n    private String json;\n\n    public MyClientMultipartPost(Context context, String progressMessage,\n                                 OnPostCallComplete onPostCallComplete2, String ApiLink,\n                                 MultipartEntity multipartentity) {\n        message = progressMessage;\n         this.c\n        this.ApiLink = ApiLink;\n        this.multipartentity = multipartentity;\n         this.\n\n        if (!(message.equals(&quot;&quot;))) {\n            dialog = new ProgressDialog(context);\n            dialog.setMessage(progressMessage);\n        }\n    }\n\n    @Override\n    protected void onPreExecute() {\n        // TODO Auto-generated method stub\n        super.onPreExecute();\n        if (!(message.equals(&quot;&quot;))) {\n            dialog.setCancelable(false);\n            dialog.show();\n        }\n    }\n\n    @Override\n    protected Void doInBackground(Void... params) {\n        String result = null;\n\n        if (!isCancelled()) {\n\n            InputStream is = null;\n            JSONObject jObj = null;\n\n//            Utils.Log(getClass().getSimpleName(), &quot;Url : &quot; + ApiLink + &quot; Params : &quot; + multipartentity.toString());\n            System.out.println(&quot;create poll data &quot; + ApiLink);\n            try {\n                HttpClient httpclient = new DefaultHttpClient();\n                 HttpContext localC BasicHttpContext();\n                HttpPost httppost = new HttpPost(ApiLink);\n                httppost.setEntity(multipartentity);\n\n                 HttpResponse resp localContext);\n                 if (resp null) {\n\n                } else {\n                    HttpEntity entity = response.getEntity();\n                    is = entity.getContent();\n\n                    // Log.e(&quot;log_tag&quot;, &quot;&quot;+is.toString());\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                // Log.e(&quot;log_tag&quot;, &quot;Error in http connection &quot; + e.toString());\n            }\n\n            // convert response to string\n            try {\n                BufferedReader reader = new BufferedReader(new InputStreamReader(is, &quot;iso-8859-1&quot;), 8);\n                StringBuilder sb = new StringBuilder();\n                String line = null;\n                while ((line = reader.readLine()) != null) {\n                    sb.append(line + &quot;\\n&quot;);\n                }\n                is.close();\n                 js\n                Log.i(&quot;res&quot;, json);\n            } catch (Exception e) {\n                // Log.e(&quot;log_tag&quot;, &quot;Error converting result &quot; + e.toString());\n                e.printStackTrace();\n            }\n        }\n        //System.out.println(&quot;result in post: &quot;+result);\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result) {\n        // TODO Auto-generated method stub\n        super.onPostExecute(result);\n        if (!(message.equals(&quot;&quot;))) {\n            if (dialog != null) {\n                dialog.hide();\n                dialog.dismiss();\n            }\n        }\n        System.out.println(&quot;result in onPostExecute: &quot; + result);\n        try {\n            onpostcallcomplete.response(json);\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public interface OnPostCallComplete {\n        public void response(String result) throws JSONException;\n    }\n}</code></pre></p> <p align="right"><span style="font-size: 60%">Add a code snippet to your website: <a href="https://www.paste.org" target="_blank">www.paste.org</a></span></p> </body> </html>'