b' <!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1">  <meta name="description" content="www.paste.org - allows users to paste snippets of text, usually samples of source code, for public viewing."> <meta name="author" content="An Australian"> <link rel="icon" href="/favicon.ico"> <title>Paste code - paste.org</title>  <link href="/assets/themes/bleh/css/github-highlight.css" rel="stylesheet"> <script src="/assets/themes/bleh/js/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <p><pre><code class="nohighlight">code:\n        def __init__(self):\n                self.authKey = \'key\'\n                self.authSecret = base64.b64decode(\'secret\')\n        def buildQuery(self, req={}):\n                req[&quot;nonce&quot;] = int(time.time()*100000)\n                postData = urlencode(req)\n                headers = {}\n                headers[&quot;User-Agent&quot;] = &quot;GoxApi&quot;\n                headers[&quot;Rest-Key&quot;] = self.authKey\n                headers[&quot;Rest-Sign&quot;] = base64.b64encode(str(HMAC(self.authSecret, postData, sha512).digest()))\n                return (postData, headers)\n        def perform(self, path, args, method):\n                data, headers = self.buildQuery(args)\n\n                conn = httplib.HTTPSConnection(&quot;mtgox.com&quot;)\n                conn.set_debuglevel(2)\n                conn.request(method,&quot;/api/&quot;+path, data, headers)\n                response = conn.getresponse()\n                res = response.read()\n                conn.close()\n                print response.status, response.reason\n            \n                #using this library with the same input data, everything is working:\n                #req = urllib2.Request(&quot;https://mtgox.com/api/&quot;+path, data, headers)\n                #res = urllib2.urlopen(req, data)\n            \n                print &quot;RESULT&quot;, res\n\nrezult:\nsend: \'POST /api/0/getOrders.php HTTP/1.1rnHost: mtgox.comrnAccept-Encoding: identityrnContent-Length: 34rnRest-Key: 22954f1c-c420-4f73-b8f3-1081c840dc17rnRest-Sign: VKP1kJj+lbJsX+YVGPant11fTfLmvCVpr7qogEcVbl8mgcXPz2O6V/T15+RUz5kTXq5ovKEcAdh56NJf2zQRyw==rnUser-Agent: GoxApirnrnnonce=133684616496679&amp;Currency=GBP\'\nreply: \'HTTP/1.1 200 OKrn\'\nheader: Date: Sat, 12 May 2012 18:09:21 GMT\nheader: Server: Apache\nheader: X-Powered-By: PHP/5.4.0\nheader: Set-Cookie: SESSION_ID=32fdb5a436cff5e41c9ae62cba45fb89; expires=Mon, 14-May-2012 18:09:21 GMT; path=/; domain=.mtgox.com; HttpOnly\nheader: Expires: Thu, 19 Nov 1981 08:52:00 GMT\nheader: Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\nheader: Pragma: no-cache\nheader: Strict-Transport-Security: max-age=1209600\nheader: Vary: Accept-Encoding\nheader: Content-Length: 29\nheader: Content-Type: application/json\n200 OK\nRESULT {&quot;error&quot;:&quot;Must be logged in&quot;}\n\n#looks like symbols like &quot;&quot; did not copied, but in my output they exist.</code></pre></p> <p align="right"><span style="font-size: 60%">Add a code snippet to your website: <a href="https://www.paste.org" target="_blank">www.paste.org</a></span></p> </body> </html>'