b' <!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1">  <meta name="description" content="www.paste.org - allows users to paste snippets of text, usually samples of source code, for public viewing."> <meta name="author" content="An Australian"> <link rel="icon" href="/favicon.ico"> <title>Paste code - paste.org</title>  <link href="/assets/themes/bleh/css/github-highlight.css" rel="stylesheet"> <script src="/assets/themes/bleh/js/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <p><pre><code class="nohighlight">class Item(dict):\n    _actions=[\'item\',\'promo\',\'user\',\'products\']\n    def __init__(self,num_iid):\n        self.num_iid=num_iid\n    def __getitem__(self,key):\n        if key in self._actions:\n            if not super(Item,self).has_key(key):\n                self.__setitem__(key, getattr(self,\'_%s\'%key)())\n        else:\n            raise ErrorInKeyFromItemClass, &quot;key not in %r&quot;%self._actions\n        return super(Item,self).__getitem__(key)\n    def _item(self):\n        print self.num_iid,&quot;item run&quot;\n        req=top.api.ItemGetRequest( api_host, port)\n        req[\'num_iid\'] = self.num_iid\n        req[\'fields\']  = \'detail_url,num_iid,title,nick,type,cid,seller_cids,props,input_pids,input_str,desc,pic_url,num,valid_thru,list_time,delist_time,stuff_status,location,price,post_fee,express_fee,ems_fee,has_discount,freight_payer,has_invoice,has_warranty,has_showcase,modified,increment,approve_status,postage_id,product_id,auction_point,property_alias,item_img,prop_img,sku,video,outer_id,is_virtual\'\n        return apitry(req,gettoken())[\'item_get_response\'][\'item\']\n    def _promo(self):\n        print self.num_iid,&quot;promo run&quot;\n        req=top.api.UmpPromotionGetRequest( api_host, port)\n        req[\'item_id\'] = self.num_iid\n        return apitry(req,gettoken())[\'ump_promotion_get_response\'][\'promotions\']\n    def _user(self):\n        req=top.api.UserGetRequest( api_host, port)\n        req[\'fields\'] = &quot;user_id,uid,nick,sex,buyer_credit,seller_credit,location,created,last_visit,birthday,type,status,alipay_no,alipay_account,alipay_account,email,consumer_protection,alipay_bind&quot;\n        req[\'nick\']   = self[\'item\'][\'nick\']\n        return apitry(req,gettoken())[&quot;user_get_response&quot;][&quot;user&quot;]\n    def _products(self):\n        print self.num_iid,&quot;products run&quot;\n        req=top.api.ProductsGetRequest( api_host, port)\n        req[\'fields\'] = \'product_id,outer_id,created,cid,cat_name,props,props_str,name,binds,binds_str,sale_props,desc,pic_url,modified\'\n        req[\'nick\']   = self[\'item\'][\'nick\']\n        return apitry(req,gettoken())[&quot;products_get_response&quot;][&quot;products&quot;][&quot;product&quot;]\n    def keys(self):\n        return self._actions</code></pre></p> <p align="right"><span style="font-size: 60%">Add a code snippet to your website: <a href="https://www.paste.org" target="_blank">www.paste.org</a></span></p> </body> </html>'